# HyperTutorial Project - Master Configuration
# ==============================================================================
# This configuration file defines the settings for both the Application Runtime
# and the Development/Recording Environment (The Studio).
#
# Supported Environments: development, staging, production
# Format: YAML
#
# INSTRUCTIONS:
# 1. Copy .env.example to .env and fill in your secrets.
# 2. Secrets are referenced here using the format: ${ENV_VAR_NAME}
# 3. Defaults are provided where safe.
# ==============================================================================

# ------------------------------------------------------------------------------
# 1. Environment & Global Settings
# ------------------------------------------------------------------------------
env: ${NODE_ENV:-development} # Defaults to 'development' if not set
port: ${PORT:-3000}
serviceName: "hyper-tutorial-service"

# ------------------------------------------------------------------------------
# 2. Logging Configuration
# ------------------------------------------------------------------------------
logging:
  level: ${LOG_LEVEL:-info} # debug, info, warn, error
  format: ${LOG_FORMAT:-json} # json for prod, pretty for dev
  redactKeys: ["password", "token", "secret", "authorization"]

# ------------------------------------------------------------------------------
# 3. Database Configuration (Secure Credential Management)
# ------------------------------------------------------------------------------
database:
  host: ${DB_HOST:-localhost}
  port: ${DB_PORT:-5432}
  username: ${DB_USER} # MUST be provided via .env
  password: ${DB_PASS} # MUST be provided via .env
  name: ${DB_NAME:-hyper_tutorial_db}
  pool:
    min: 2
    max: 10
  ssl: ${DB_SSL:-false}

# ------------------------------------------------------------------------------
# 4. API Endpoints & External Services
# ------------------------------------------------------------------------------
api:
  baseUrl: ${API_BASE_URL:-http://localhost:3000/api/v1}
  timeoutMs: 5000
  retryAttempts: 3
  services:
    auth:
      url: ${AUTH_SERVICE_URL:-http://auth-service:4000}
      apiKey: ${AUTH_SERVICE_KEY}
    payments:
      url: ${PAYMENT_SERVICE_URL:-https://api.stripe.com}
      publicKey: ${STRIPE_PUBLIC_KEY}

# ------------------------------------------------------------------------------
# 5. Studio Configuration (From Blueprint)
# ------------------------------------------------------------------------------
# These settings enforce consistency across recording sessions and development.
# They are used by setup scripts and validation tools.
studio:
  hardware:
    microphone:
      recommended: ["Shure SM7B", "MV7", "High-end Condenser"]
      filters: ["Pop Filter", "Wind Foam"]
      interface: "USB Interface (Focusrite/Elgato)"
    camera:
      resolution: "1080p60"
      framing: "Rule of Thirds"
    screen:
      resolution: "1920x1080" # Scaled 1080p or 1440p
      aspectRatio: "16:9"

  software:
    ide: "VS Code"
    theme: "High Contrast Dark (Dracula/One Dark Pro)"
    font:
      family: "JetBrains Mono"
      ligatures: true
      size:
        editor: 18 # "16px - 20px" -> Picking 18 as sweet spot
        terminal: 20 # "18px - 22px" -> Picking 20
    ui:
      hideActivityBar: true
      hideMinimap: true
      cursorBlinking: "solid"
      screencastMode: true

  recording:
    obs:
      canvas: "1920x1080"
      fps: 60
      bitrateKbps: 15000 # 15,000 - 20,000 Kbps
      audioFilters: ["Noise Suppression", "Compressor", "Limiter"]

  project:
    branching:
      main: "main"
      starter: "starter"
      checkpoints: ["checkpoint-1", "checkpoint-2"]
    hygiene:
      linter: "strict"
      formatter: "prettier-on-save"
